(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-479c832a"],{"0808":function(e,t,i){},"3bed":function(e,t,i){"use strict";var n=i("4df9"),a=i.n(n);a.a},"4da9":function(e,t,i){},"4df9":function(e,t,i){},"71ee":function(module,exports,__webpack_require__){(function(global){
/*!
 * vue-dplayer v0.0.10
 * (c) 2017-present sinchang <sinchangwen@gmail.com>
 * Released under the MIT License.
 */
(function(e,t){module.exports=t()})(0,(function(){"use strict";var commonjsGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var DPlayer_min=createCommonjsModule((function(module,exports){!function(e,t){module.exports=t()}("undefined"!=typeof self&&self,(function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=5)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(e){var t=function(e){return e<10?"0"+e:""+e},i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),a=Math.floor(e-3600*i-60*n);return(i>0?[i,n,a]:[n,a]).map(t).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,i=e.offsetParent,n=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==i&&i!==e;)t+=i.offsetLeft,i=i.offsetParent;else for(;null!==i;)t+=i.offsetLeft,i=i.offsetParent;return t-n},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,i=void 0===t?0:t,n=e.top,a=void 0===n?0:n;this.isFirefox?(document.documentElement.scrollLeft=i,document.documentElement.scrollTop=a):window.scrollTo(i,a)},isMobile:n,isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},cumulativeOffset:function(e){var t=0,i=0;do{t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:i}},nameMap:{dragStart:n?"touchstart":"mousedown",dragMove:n?"touchmove":"mousemove",dragEnd:n?"touchend":"mouseup"}};t.default=a},function(e,t,n){var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||eval("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(i=window)}e.exports=i},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(16),o=n(a),s=i(17),r=n(s),l=i(18),c=n(l),u=i(19),d=n(u),h=i(20),p=n(h),m=i(21),f=n(m),v=i(22),y=n(v),g=i(23),b=n(g),w=i(24),k=n(w),x=i(25),S=n(x),T=i(26),L=n(T),O=i(27),E=n(O),_=i(28),C=n(_),M=i(29),q=n(M),P=i(30),D=n(P),z=i(31),B=n(z),I={play:o.default,pause:r.default,volumeUp:c.default,volumeDown:d.default,volumeOff:p.default,full:f.default,fullWeb:y.default,setting:b.default,right:k.default,comment:S.default,commentOff:L.default,send:E.default,pallette:C.default,camera:q.default,subtitle:D.default,loading:B.default};t.default=I},function(e,t,i){e.exports=i(33)},function(e,t,i){var n=i(3);e.exports=function(e){e=e||{};var t="",i=e.enableSubtitle,a=e.subtitle,o=e.current,s=e.pic,r=n.$escape,l=e.screenshot,c=e.preload,u=e.url;i=a&&"webvtt"===a.type;return t+='\n<video\n    class="dplayer-video ',o&&(t+="dplayer-video-current"),t+='"\n    webkit-playsinline\n    playsinline\n    ',s&&(t+='poster="',t+=r(s),t+='"'),t+="\n    ",(l||i)&&(t+='crossorigin="anonymous"'),t+="\n    ",c&&(t+='preload="',t+=r(c),t+='"'),t+="\n    ",u&&(t+='src="',t+=r(u),t+='"'),t+="\n    >\n    ",i&&(t+='\n    <track kind="metadata" default src="',t+=r(a.url),t+='"></track>\n    '),t+"\n</video>"}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i(6);var n=i(7),a=function(e){return e&&e.__esModule?e:{default:e}}(n);console.log("\n %c DPlayer v1.22.2 d3847a3 %c http://dplayer.js.org \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),t.default=a.default},function(e,t){},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(8),r=n(s),l=i(0),c=n(l),u=i(12),d=n(u),h=i(14),p=n(h),m=i(15),f=n(m),v=i(2),y=n(v),g=i(35),b=n(g),w=i(36),k=n(w),x=i(37),S=n(x),T=i(38),L=n(T),O=i(39),E=n(O),_=i(40),C=n(_),M=i(41),q=n(M),P=i(42),D=n(P),z=i(43),B=n(z),I=i(45),j=n(I),F=i(46),H=n(F),R=i(47),W=n(R),A=i(48),V=n(A),N=i(49),X=n(N),Y=i(4),$=n(Y),U=0,K=[],Q=function(){function e(t){var i=this;a(this,e),this.options=(0,d.default)(t),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new p.default(this.options.lang).tran,this.events=new k.default,this.user=new L.default(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),c.default.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new f.default({container:this.container,options:this.options,index:U,tran:this.tran}),this.video=this.template.video,this.bar=new C.default(this.template),this.bezel=new D.default(this.template.bezel),this.fullScreen=new S.default(this),this.controller=new B.default(this),this.options.danmaku&&(this.danmaku=new b.default({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout((function(){i.template.danmakuLoading.style.display="none",i.options.autoplay&&i.play()}),0)},error:function(e){i.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return i.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events}),this.comment=new H.default(this)),this.setting=new j.default(this),document.addEventListener("click",(function(){i.focus=!1}),!0),this.container.addEventListener("click",(function(){i.focus=!0}),!0),this.paused=!0,this.time=new q.default(this),this.hotkey=new W.default(this),this.contextmenu=new V.default(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new X.default(this),!this.danmaku&&this.options.autoplay&&this.play(),U++,K.push(this)}return o(e,[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice(this.tran("FF")+" "+(e-this.video.currentTime).toFixed(0)+" "+this.tran("s")):this.video.currentTime>e&&this.notice(this.tran("REW")+" "+(this.video.currentTime-e).toFixed(0)+" "+this.tran("s")),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width")}},{key:"play",value:function(){var e=this;if(this.paused=!1,this.video.paused&&this.bezel.switch(y.default.play),this.template.playButton.innerHTML=y.default.pause,r.default.resolve(this.video.play()).catch((function(){e.pause()})).then((function(){})),this.time.enable("loading"),this.time.enable("progress"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var t=0;t<K.length;t++)this!==K[t]&&K[t].pause()}},{key:"pause",value:function(){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||this.bezel.switch(y.default.pause),this.ended=!1,this.template.playButton.innerHTML=y.default.play,this.video.pause(),this.time.disable("loading"),this.time.disable("progress"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=y.default.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=y.default.volumeDown:this.template.volumeIcon.innerHTML=y.default.volumeOff}},{key:"volume",value:function(e,t,i){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var n=(100*e).toFixed(0)+"%";this.template.volumeBarWrapWrap.dataset.balloon=n,t||this.user.set("volume",e),i||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var i=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: "+t);else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),this.type){case"hls":if(Hls)if(Hls.isSupported()){var n=new Hls;n.loadSource(e.src),n.attachMedia(e)}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(flvjs&&flvjs.isSupported())if(flvjs.isSupported()){var a=flvjs.createPlayer({type:"flv",url:e.src});a.attachMediaElement(e),a.load()}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":dashjs?dashjs.MediaPlayer().create().initialize(e,e.src,!1):this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(WebTorrent)if(WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var o=new WebTorrent,s=e.src;o.add(s,(function(e){e.files.find((function(e){return e.name.endsWith(".mp4")})).renderTo(i.video,{autoplay:i.options.autoplay},(function(){i.container.classList.remove("dplayer-loading")}))}))}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var i=this;this.initMSE(e,t),this.on("durationchange",(function(){1!==e.duration&&(i.template.dtime.innerHTML=c.default.secondToTime(e.duration))})),this.on("progress",(function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;i.bar.set("loaded",t,"width")})),this.on("error",(function(){i.tran&&i.notice&&(i.type,i.notice(i.tran("This video fails to load"),-1))})),this.ended=!1,this.on("ended",(function(){i.bar.set("played",1,"width"),i.setting.loop?(i.seek(0),e.play()):(i.ended=!0,i.pause()),i.danmaku&&(i.danmaku.danIndex=0)})),this.on("play",(function(){i.paused&&i.play()})),this.on("pause",(function(){i.paused||i.pause()}));for(var n=0;n<this.events.videoEvents.length;n++)!function(t){e.addEventListener(i.events.videoEvents[t],(function(){i.events.trigger(i.events.videoEvents[t])}))}(n);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new E.default(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var i=this.video.paused;this.video.pause();var n=(0,$.default)({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),a=(new DOMParser).parseFromString(n,"text/html").body.firstChild;this.template.videoWrap.insertBefore(a,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=a,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice(this.tran("Switching to")+" "+this.quality.name+" "+this.tran("quality"),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",(function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),i||t.video.play(),t.prevVideo=null,t.notice(t.tran("Switched to")+" "+t.quality.name+" "+t.tran("quality")),t.switchingQuality=!1,t.events.trigger("quality_end")}}))}}},{key:"notice",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=n,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout((function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")}),i)}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){for(var e in K.splice(K.indexOf(this),1),this.pause(),this.controller.destroy(),this.time.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy"),this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();t.default=Q},function(e,t,i){(function(t){function i(){}function n(e,t){return function(){e.apply(t,arguments)}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void r(t.promise,e)}s(t.promise,n)}else(1===e._state?s:r)(t.promise,e._value)}))):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":d(t))||"function"==typeof t)){var i=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof i)return void u(n(i,t),e)}e._state=1,e._value=t,l(e)}catch(t){r(e,t)}}function r(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function u(e,t){var i=!1;try{e((function(e){i||(i=!0,s(t,e))}),(function(e){i||(i=!0,r(t,e))}))}catch(e){if(i)return;i=!0,r(t,e)}}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=setTimeout;a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return o(this,new c(e,t,n)),n},a.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))},a.all=function(e){return new a((function(t,i){function n(e,s){try{if(s&&("object"===(void 0===s?"undefined":d(s))||"function"==typeof s)){var r=s.then;if("function"==typeof r)return void r.call(s,(function(t){n(e,t)}),i)}a[e]=s,0==--o&&t(a)}catch(e){i(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);for(var o=a.length,s=0;s<a.length;s++)n(s,a[s])}))},a.resolve=function(e){return e&&"object"===(void 0===e?"undefined":d(e))&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,i){i(e)}))},a.race=function(e){return new a((function(t,i){for(var n=0,a=e.length;n<a;n++)e[n].then(t,i)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){h(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(t,i(9).setImmediate)},function(e,t,i){function n(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new n(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(10),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,i){(function(e,t){!function(e,i){function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,r(l),l++}function a(e){delete c[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}function s(e){if(u)setTimeout(s,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var r,l=1,c={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){r=function(e){t.nextTick((function(){s(e)}))}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&s(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),r=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;r=function(t){var i=d.createElement("script");i.onreadystatechange=function(){s(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){r=function(e){setTimeout(s,0,e)}}(),h.setImmediate=n,h.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,i(1),i(11))},function(e,t,i){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===a||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function r(){v&&m&&(v=!1,m.length?f=m.concat(f):y=-1,f.length&&l())}function l(){if(!v){var e=o(r);v=!0;for(var t=f.length;t;){for(m=f,f=[];++y<t;)m&&m[y].run();y=-1,t=f.length}m=null,v=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,h,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{h="function"==typeof clearTimeout?clearTimeout:a}catch(e){h=a}}();var m,f=[],v=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new c(e,t)),1!==f.length||v||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(13),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,hotkey:!0,preload:"auto",volume:.7,apiBackend:o.default,video:{},contextmenu:[],mutex:!0};for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===n(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=e.video.quality[e.video.defaultQuality].url),e.lang&&(e.lang=e.lang.toLowerCase()),e.contextmenu=e.contextmenu.concat([{text:"Video info",click:function(e){e.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v1.22.2",link:"https://github.com/MoePlayer/DPlayer"}]),e}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,i,n,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(o.status>=200&&o.status<300||304===o.status){var e=JSON.parse(o.responseText);return 0!==e.code?n(o,e):i(o,e)}a(o)}},o.open(null!==t?"POST":"GET",e,!0),o.setRequestHeader("Content-type","application/json; charset=UTF-8"),o.send(null!==t?JSON.stringify(t):null)};t.default={send:function(e,t,i){n(e,t,(function(e,t){console.log("Post danmaku: ",t),i&&i()}),(function(e,t){alert(t.msg)}),(function(e){console.log("Request was unsuccessful: "+e.status)}))},read:function(e,t){n(e,null,(function(e,i){t(null,i.danmaku)}),(function(e,i){t({status:e.status,response:i})}),(function(e){t({status:e.status,response:null})}))}}},function(e,t,i){function n(e){var t=this;this.lang=e,this.tran=function(e){return a[t.lang]&&a[t.lang][e]?a[t.lang][e]:e}}Object.defineProperty(t,"__esModule",{value:!0});var a={"zh-cn":{"Danmaku is loading":"弹幕加载中",Top:"顶部",Bottom:"底部",Rolling:"滚动","Input danmaku, hit Enter":"输入弹幕，回车发送","About author":"关于作者","DPlayer feedback":"播放器意见反馈","About DPlayer":"关于 DPlayer 播放器",Loop:"洗脑循环",Speed:"速度","Opacity for danmaku":"弹幕透明度",Normal:"正常","Please input danmaku content!":"要输入弹幕内容啊喂！","Set danmaku color":"设置弹幕颜色","Set danmaku type":"设置弹幕类型","Show danmaku":"显示弹幕","This video fails to load":"视频加载失败","Switching to":"正在切换至","Switched to":"已经切换至",quality:"画质",FF:"快进",REW:"快退","Unlimited danmaku":"海量弹幕","Send danmaku":"发送弹幕",Setting:"设置","Full screen":"全屏","Web full screen":"页面全屏",Send:"发送",Screenshot:"截图",s:"秒","Show subtitle":"显示字幕","Hide subtitle":"隐藏字幕",Volume:"音量",Live:"直播","Video info":"视频统计信息"},"zh-tw":{"Danmaku is loading":"彈幕加載中",Top:"頂部",Bottom:"底部",Rolling:"滾動","Input danmaku, hit Enter":"輸入彈幕，Enter 發送","About author":"關於作者","DPlayer feedback":"播放器意見反饋","About DPlayer":"關於 DPlayer 播放器",Loop:"循環播放",Speed:"速度","Opacity for danmaku":"彈幕透明度",Normal:"正常","Please input danmaku content!":"請輸入彈幕内容啊！","Set danmaku color":"設置彈幕顏色","Set danmaku type":"設置彈幕類型","Show danmaku":"顯示彈幕","This video fails to load":"視頻加載失敗","Switching to":"正在切換至","Switched to":"已經切換至",quality:"畫質",FF:"快進",REW:"快退","Unlimited danmaku":"海量彈幕","Send danmaku":"發送彈幕",Setting:"設置","Full screen":"全屏","Web full screen":"頁面全屏",Send:"發送",Screenshot:"截圖",s:"秒","Show subtitle":"顯示字幕","Hide subtitle":"隱藏字幕",Volume:"音量",Live:"直播","Video info":"視頻統計信息"}};t.default=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(2),r=n(s),l=i(32),c=n(l),u=function(){function e(t){a(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.init()}return o(e,[{key:"init",value:function(){this.container.innerHTML=(0,c.default)({options:this.options,index:this.index,tran:this.tran,icons:r.default,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}]),e}();t.default=u},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(e,t,i){var n=i(3);e.exports=function(e){e=e||{};var t="",a=e.video,o=e.options,s=n.$escape,r=e.tran,l=e.icons,c=e.index,u=n.$each;return e.$value,e.$index,t+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',function(e){t+=e}(i(4)(a)),t+="\n    ",o.logo&&(t+='\n    <div class="dplayer-logo">\n        <img src="',t+=s(o.logo),t+='">\n    </div>\n    '),t+='\n    <div class="dplayer-danmaku"',o.danmaku&&o.danmaku.bottm&&(t+=' style="margin-bottom:',t+=s(o.danmaku.bottm),t+='"'),t+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',o.danmaku&&(t+='\n        <span class="dplayer-danloading">',t+=s(r("Danmaku is loading")),t+="</span>\n        "),t+='\n        <span class="diplayer-loading-icon">',t+=l.loading,t+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',t+=s(r("Setting")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=l.pallette,t+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',t+=s(r("Set danmaku color")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(c),t+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',t+=s(r("Set danmaku type")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(c),t+='" value="top">\n                    <span>',t+=s(r("Top")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(c),t+='" value="right" checked>\n                    <span>',t+=s(r("Rolling")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(c),t+='" value="bottom">\n                    <span>',t+=s(r("Bottom")),t+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',t+=s(r("Input danmaku, hit Enter")),t+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',t+=s(r("Send")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=l.send,t+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',t+=l.play,t+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',t+=l.volumeDown,t+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',t+=s(o.theme),t+=';">\n                        <span class="dplayer-thumb" style="background: ',t+=s(o.theme),t+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',o.live&&(t+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',t+=s(o.theme),t+=';"></span>',t+=s(r("Live")),t+="</span>\n        "),t+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',o.video.quality&&(t+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',t+=s(o.video.quality[o.video.defaultQuality].name),t+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',u(o.video.quality,(function(e,i){t+='\n                    <div class="dplayer-quality-item" data-index="',t+=s(i),t+='">',t+=s(e.name),t+="</div>\n                "})),t+="\n                </div>\n            </div>\n        </div>\n        "),t+="\n        ",o.screenshot&&(t+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',t+=s(r("Screenshot")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=l.camera,t+="</span>\n        </div>\n        "),t+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',t+=s(r("Send danmaku")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=l.comment,t+="</span>\n            </button>\n        </div>\n        ",o.subtitle&&(t+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',t+=s(r("Hide subtitle")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=l.subtitle,t+="</span>\n            </button>\n        </div>\n        "),t+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',t+=s(r("Setting")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=l.setting,t+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',t+=s(r("Speed")),t+='</span>\n                        <div class="dplayer-toggle">',t+=l.right,t+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',t+=s(r("Loop")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',t+=s(r("Show danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',t+=s(r("Unlimited danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',t+=s(r("Opacity for danmaku")),t+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    <div class="dplayer-setting-speed-item" data-speed="0.5">\n                        <span class="dplayer-label">0.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="0.75">\n                        <span class="dplayer-label">0.75</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1">\n                        <span class="dplayer-label">',t+=s(r("Normal")),t+='</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.25">\n                        <span class="dplayer-label">1.25</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="1.5">\n                        <span class="dplayer-label">1.5</span>\n                    </div>\n                    <div class="dplayer-setting-speed-item" data-speed="2">\n                        <span class="dplayer-label">2</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',t+=s(r("Web full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=l.fullWeb,t+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',t+=s(r("Full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=l.full,t+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',t+=s(o.theme),t+='">\n                <span class="dplayer-thumb" style="background: ',t+=s(o.theme),t+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',o.danmaku&&(t+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danamku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danamku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danamku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),t+='\n</div>\n<div class="dplayer-menu">\n    ',u(o.contextmenu,(function(e,i){t+='\n        <div class="dplayer-menu-item">\n            <a target="_blank" href="',t+=s(e.link||"javascript:void(0);"),t+='">',t+=s(r(e.text)),t+="</a>\n        </div>\n    "})),t+='\n</div>\n<div class="dplayer-notice"></div>'}},function(e,t,i){(function(t){function n(e){return"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?n(e.call(e)):JSON.stringify(e)),e}function a(e){var t=""+e,i=r.exec(t);if(!i)return e;var n="",a=void 0,o=void 0,s=void 0;for(a=i.index,o=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==a&&(n+=t.substring(o,a)),o=a+1,n+=s}return o!==a?n+t.substring(o,a):n}var o=i(34),s=Object.create(o?t:window),r=/["&'<>]/;s.$escape=function(e){return a(n(e))},s.$each=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i);else for(var a in e)t(e[a],a)},e.exports=s}).call(t,i(1))},function(e,t,i){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(t,i(1))},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}return o(e,[{key:"load",value:function(){var e=this,t=void 0;t=this.options.api.maximum?this.options.api.address+"v2/?id="+this.options.api.id+"&max="+this.options.api.maximum:this.options.api.address+"v2/?id="+this.options.api.id;var i=(this.options.api.addition||[]).slice(0);i.push(t),this.events&&this.events.trigger("danmaku_load_start",i),this._readAllEndpoints(i,(function(t){e.dan=[].concat.apply([],t).sort((function(e,t){return e.time-t.time})),window.requestAnimationFrame((function(){e.frame()})),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")}))}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var i=this,n=[],a=0,o=0;o<e.length;++o)this.options.apiBackend.read(e[o],function(o){return function(s,r){if(++a,s)s.response?i.options.error(s.response.msg):i.options.error("Request was unsuccessful: "+s.status),n[o]=[];else{var l=["right","top","bottom"];n[o]=r?r.map((function(e){return{time:e[0],type:l[e[1]],color:e[2],author:e[3],text:e[4]}})):[]}if(a===e.length)return t(n)}}(o))}},{key:"send",value:function(e,t){var i={token:this.options.api.token,player:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send(this.options.api.address+"v2/",i,t),this.dan.splice(this.danIndex,0,i),this.danIndex++;var n={text:this.htmlEncode(i.text),color:i.color,type:i.type,border:"2px solid "+this.options.borderColor};this.draw(n),this.events&&this.events.trigger("danmaku_send",i)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],i=[];t&&this.options.time()>parseFloat(t.time);)i.push(t),t=this.dan[++this.danIndex];this.draw(i)}window.requestAnimationFrame((function(){e.frame()}))}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),i=0;i<t.length;i++)t[i].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var i=this.options.height,n=this.container.offsetWidth,o=this.container.offsetHeight,s=parseInt(o/i),r=function(e){var i=e.offsetWidth||parseInt(e.style.width),n=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+i;return t.container.getBoundingClientRect().right-n},l=function(e){return(n+e)/5},c=function(e,i,o){for(var c=n/l(o),u=0;t.unlimited||u<s;u++){var d=function(a){var o=t.danTunnel[i][a+""];if(!o||!o.length)return t.danTunnel[i][a+""]=[e],e.addEventListener("animationend",(function(){t.danTunnel[i][a+""].splice(0,1)})),{v:a%s};if("right"!==i)return"continue";for(var u=0;u<o.length;u++){var d=r(o[u])-10;if(d<=n-c*l(parseInt(o[u].style.width))||d<=0)break;if(u===o.length-1)return t.danTunnel[i][a+""].push(e),e.addEventListener("animationend",(function(){t.danTunnel[i][a+""].splice(0,1)})),{v:a%s}}}(u);switch(d){case"continue":continue;default:if("object"===(void 0===d?"undefined":a(d)))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var u=document.createDocumentFragment(),d=0;d<e.length;d++)!function(a){e[a].type||(e[a].type="right"),e[a].color||(e[a].color="#fff");var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-"+e[a].type),e[a].border?o.innerHTML='<span style="border:'+e[a].border+'">'+e[a].text+"</span>":o.innerHTML=e[a].text,o.style.opacity=t._opacity,o.style.color=e[a].color,o.addEventListener("animationend",(function(){t.container.removeChild(o)}));var s=t._measure(e[a].text),r=void 0;switch(e[a].type){case"right":r=c(o,e[a].type,s),r>=0&&(o.style.width=s+1+"px",o.style.top=i*r+"px",o.style.transform="translateX(-"+n+"px)");break;case"top":r=c(o,e[a].type),r>=0&&(o.style.top=i*r+"px");break;case"bottom":r=c(o,e[a].type),r>=0&&(o.style.bottom=i*r+"px");break;default:console.error("Can't handled danmaku type: "+e[a].type)}r>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))}(d);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),i=0;i<t.length;i++)t[i].style.transform="translateX(-"+e+"px)"}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}]),e}();t.default=s},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var i=0;i<this.events[e].length;i++)this.events[e][i](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=o},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var i=this;n(this,e),this.player=t,this.player.events.on("webfullscreen",(function(){i.player.resize()})),this.player.events.on("webfullscreen_cancel",(function(){i.player.resize(),s.default.setScrollPosition(i.lastScrollPosition)}));var a=function(){i.player.resize(),i.isFullScreen("browser")?i.player.events.trigger("fullscreen"):(s.default.setScrollPosition(i.lastScrollPosition),i.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("mozfullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a)}return a(e,[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",i=this.isFullScreen(t);switch(i||(this.lastScrollPosition=s.default.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}i&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}]),e}();t.default=r},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){n(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.volume||.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}return a(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(s.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,s.default.storage.set(this.storageName[e],t)}}]),e}();t.default=r},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,i,a,o){n(this,e),this.container=t,this.video=i,this.options=a,this.events=o,this.init()}return a(e,[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var i=t.activeCues[0];if(i){e.container.innerHTML="";var n=document.createElement("p");n.appendChild(i.getCueAsHTML()),e.container.appendChild(n)}else e.container.innerHTML="";e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}]),e}();t.default=o},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}return a(e,[{key:"set",value:function(e,t,i){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[i]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();t.default=o},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){n(this,e),this.player=t,window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),this.types=["loading","progress","info","fps"],this.init()}return a(e,[{key:"init",value:function(){for(var e=0;e<this.types.length;e++){var t=this.types[e];"fps"!==t&&this["init"+t+"Checker"]()}}},{key:"initloadingChecker",value:function(){var e=this,t=0,i=0,n=!1;this.loadingChecker=setInterval((function(){e.enableloadingChecker&&(i=e.player.video.currentTime,n||i!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),n=!0),n&&i>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),n=!1),t=i)}),100)}},{key:"initprogressChecker",value:function(){var e=this;this.progressChecker=setInterval((function(){if(e.enableprogressChecker){e.player.bar.set("played",e.player.video.currentTime/e.player.video.duration,"width");var t=s.default.secondToTime(e.player.video.currentTime);e.player.template.ptime.innerHTML!==t&&(e.player.template.ptime.innerHTML=s.default.secondToTime(e.player.video.currentTime))}}),100)}},{key:"initfpsChecker",value:function(){var e=this;window.requestAnimationFrame((function(){if(e.enablefpsChecker)if(e.initfpsChecker(),e.fpsStart){e.fpsIndex++;var t=new Date;t-e.fpsStart>1e3&&(e.player.infoPanel.fps(e.fpsIndex/(t-e.fpsStart)*1e3),e.fpsStart=new Date,e.fpsIndex=0)}else e.fpsStart=new Date,e.fpsIndex=0;else e.fpsStart=0,e.fpsIndex=0}))}},{key:"initinfoChecker",value:function(){var e=this;this.infoChecker=setInterval((function(){e.enableinfoChecker&&e.player.infoPanel.update()}),1e3)}},{key:"enable",value:function(e){this["enable"+e+"Checker"]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable"+e+"Checker"]=!1}},{key:"destroy",value:function(e){this[e+"Checker"]&&clearInterval(this[e+"Checker"])}}]),e}();t.default=r},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){var i=this;n(this,e),this.container=t,this.container.addEventListener("animationend",(function(){i.container.classList.remove("dplayer-bezel-transition")}))}return a(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}]),e}();t.default=o},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(0),r=n(s),l=i(44),c=n(l),u=i(2),d=n(u),h=function(){function e(t){var i=this;a(this,e),this.player=t,this.autoHideTimer=0,r.default.isMobile||(this.player.container.addEventListener("mousemove",(function(){i.setAutoHide()})),this.player.container.addEventListener("click",(function(){i.setAutoHide()})),this.player.on("play",(function(){i.setAutoHide()})),this.player.on("pause",(function(){i.setAutoHide()}))),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),r.default.isMobile||this.initVolumeButton()}return o(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",(function(){e.player.toggle()})),r.default.isMobile?(this.player.template.videoWrap.addEventListener("click",(function(){e.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){e.toggle()}))):(this.player.template.videoWrap.addEventListener("click",(function(){e.player.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){e.player.toggle()})))}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new c.default({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",(function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160)})))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var i=((t.clientX||t.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;i=Math.max(i,0),i=Math.min(i,1),e.player.bar.set("played",i,"width"),e.player.template.ptime.innerHTML=r.default.secondToTime(i*e.player.video.duration)},i=function i(n){document.removeEventListener(r.default.nameMap.dragEnd,i),document.removeEventListener(r.default.nameMap.dragMove,t);var a=((n.clientX||n.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;a=Math.max(a,0),a=Math.min(a,1),e.player.bar.set("played",a,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.time.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragStart,(function(){e.player.time.disable("progress"),document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,i)})),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragMove,(function(t){if(e.player.video.duration){var i=r.default.cumulativeOffset(e.player.template.playedBarWrap).left,n=(t.clientX||t.changedTouches[0].clientX)-i;if(n<0||n>e.player.template.playedBarWrap.offsetWidth)return;var a=e.player.video.duration*(n/e.player.template.playedBarWrap.offsetWidth);r.default.isMobile&&e.thumbnails&&e.thumbnails.show(),e.thumbnails&&e.thumbnails.move(n),e.player.template.playedBarTime.style.left=n-20+"px",e.player.template.playedBarTime.innerText=r.default.secondToTime(a),e.player.template.playedBarTime.classList.remove("hidden")}})),this.player.template.playedBarWrap.addEventListener(r.default.nameMap.dragEnd,(function(){r.default.isMobile&&e.thumbnails&&e.thumbnails.hide()})),r.default.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",(function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))})),this.player.template.playedBarWrap.addEventListener("mouseleave",(function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))})))}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",(function(){e.player.fullScreen.toggle("browser")})),this.player.template.webFullButton.addEventListener("click",(function(){e.player.fullScreen.toggle("web")}))}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var i=t||window.event,n=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(n)},i=function i(){document.removeEventListener(r.default.nameMap.dragEnd,i),document.removeEventListener(r.default.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",(function(t){var i=t||window.event,n=((i.clientX||i.changedTouches[0].clientX)-r.default.getElementViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(n)})),this.player.template.volumeBarWrapWrap.addEventListener(r.default.nameMap.dragStart,(function(){document.addEventListener(r.default.nameMap.dragMove,t),document.addEventListener(r.default.nameMap.dragEnd,i),e.player.template.volumeButton.classList.add("dplayer-volume-active")})),this.player.template.volumeIcon.addEventListener("click",(function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=d.default.volumeOff,e.player.bar.set("volume",0,"width"))}))}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",(function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)}))}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",(function(){var t=document.createElement("canvas");t.width=e.player.video.videoWidth,t.height=e.player.video.videoHeight,t.getContext("2d").drawImage(e.player.video,0,0,t.width,t.height);var i=void 0;t.toBlob((function(e){i=URL.createObjectURL(e);var t=document.createElement("a");t.href=i,t.download="DPlayer.png",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i)})),e.player.events.trigger("screenshot",i)}))}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",(function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)})),this.player.events.on("subtitle_hide",(function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)})),this.player.template.subtitleButton.addEventListener("click",(function(){e.player.subtitle.toggle()})))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout((function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()}),3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();t.default=h},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('"+t.url+"')",this.events=t.events}return a(e,[{key:"resize",value:function(e,t){this.container.style.width=e+"px",this.container.style.height=t+"px",this.container.style.top=2-t+"px"}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-"+160*(Math.ceil(e/this.barWidth*100)-1)+"px 0",this.container.style.left=e-this.container.offsetWidth/2+"px"}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}]),e}();t.default=o},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(){function e(t){var i=this;n(this,e),this.player=t,this.player.template.mask.addEventListener("click",(function(){i.hide()})),this.player.template.settingButton.addEventListener("click",(function(){i.show()})),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",(function(){i.player.template.loopToggle.checked=!i.player.template.loopToggle.checked,i.player.template.loopToggle.checked?i.loop=!0:i.loop=!1,i.hide()})),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",(function(){i.player.template.showDanmakuToggle.checked=!i.player.template.showDanmakuToggle.checked,i.player.template.showDanmakuToggle.checked?(i.showDanmaku=!0,i.player.danmaku.show()):(i.showDanmaku=!1,i.player.danmaku.hide()),i.player.user.set("danmaku",i.showDanmaku?1:0),i.hide()})),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",(function(){i.player.template.unlimitDanmakuToggle.checked=!i.player.template.unlimitDanmakuToggle.checked,i.player.template.unlimitDanmakuToggle.checked?(i.unlimitDanmaku=!0,i.player.danmaku.unlimit(!0)):(i.unlimitDanmaku=!1,i.player.danmaku.unlimit(!1)),i.player.user.set("unlimited",i.unlimitDanmaku?1:0),i.hide()})),this.player.template.speed.addEventListener("click",(function(){i.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),i.player.template.settingBox.classList.add("dplayer-setting-box-speed")}));for(var a=0;a<this.player.template.speedItem.length;a++)!function(e){i.player.template.speedItem[e].addEventListener("click",(function(){i.player.speed(i.player.template.speedItem[e].dataset.speed),i.hide()}))}(a);if(this.player.danmaku){this.player.on("danmaku_opacity",(function(e){i.player.bar.set("danmaku",e,"width"),i.player.user.set("opacity",e)})),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,n=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(i.player.template.danmakuOpacityBarWrap))/130;n=Math.max(n,0),n=Math.min(n,1),i.player.danmaku.opacity(n)},r=function e(){document.removeEventListener(s.default.nameMap.dragEnd,e),document.removeEventListener(s.default.nameMap.dragMove,o),i.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",(function(e){var t=e||window.event,n=((t.clientX||t.changedTouches[0].clientX)-s.default.getElementViewLeft(i.player.template.danmakuOpacityBarWrap))/130;n=Math.max(n,0),n=Math.min(n,1),i.player.danmaku.opacity(n)})),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(s.default.nameMap.dragStart,(function(){document.addEventListener(s.default.nameMap.dragMove,o),document.addEventListener(s.default.nameMap.dragEnd,r),i.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")}))}}return a(e,[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout((function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")}),300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}();t.default=r},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){var i=this;n(this,e),this.player=t,this.player.template.mask.addEventListener("click",(function(){i.hide()})),this.player.template.commentButton.addEventListener("click",(function(){i.show()})),this.player.template.commentSettingButton.addEventListener("click",(function(){i.toggleSetting()})),this.player.template.commentColorSettingBox.addEventListener("click",(function(){if(i.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=i.player.template.commentColorSettingBox.querySelector("input:checked").value;i.player.template.commentSettingFill.style.fill=e,i.player.template.commentInput.style.color=e,i.player.template.commentSendFill.style.fill=e}})),this.player.template.commentInput.addEventListener("click",(function(){i.hideSetting()})),this.player.template.commentInput.addEventListener("keydown",(function(e){13===(e||window.event).keyCode&&i.send()})),this.player.template.commentSendButton.addEventListener("click",(function(){i.send()}))}return a(e,[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value,type:this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value},(function(){e.player.template.commentInput.value="",e.hide()})):this.player.notice(this.player.tran("Please input danmaku content!"))}}]),e}();t.default=o},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){n(this,e),t.options.hotkey&&document.addEventListener("keydown",(function(e){if(t.focus){var i=document.activeElement.tagName.toUpperCase(),n=document.activeElement.getAttribute("contenteditable");if("INPUT"!==i&&"TEXTAREA"!==i&&""!==n&&"true"!==n){var a=e||window.event,o=void 0;switch(a.keyCode){case 32:a.preventDefault(),t.toggle();break;case 37:a.preventDefault(),t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:a.preventDefault(),t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:a.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:a.preventDefault(),o=t.volume()-.1,t.volume(o)}}}})),document.addEventListener("keydown",(function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}}))};t.default=a},function(e,t,i){function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){var i=this;a(this,e),this.player=t,[].concat(n(this.player.template.menuItem)).map((function(e,t){return i.player.options.contextmenu[t].click&&e.addEventListener("click",(function(){i.player.options.contextmenu[t].click(i.player),i.hide()})),e})),this.player.container.addEventListener("contextmenu",(function(e){var t=e||window.event;t.preventDefault();var n=i.player.container.getBoundingClientRect();i.show(t.clientX-n.left,t.clientY-n.top),i.player.template.mask.addEventListener("click",(function(){i.hide()}))}))}return o(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var i=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=i.width?(this.player.template.menu.style.right=i.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=i.height?(this.player.template.menu.style.bottom=i.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();t.default=s},function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){var i=this;n(this,e),this.container=t.template.infoPanel,this.template=t.template,this.video=t.video,this.player=t,this.template.infoPanelClose.addEventListener("click",(function(){i.hide()}))}return a(e,[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.time.enable("info"),this.player.time.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.time.disable("info"),this.player.time.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v1.22.2 d3847a3",this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML=this.player.video.videoWidth+" x "+this.player.video.videoHeight,this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(e){this.template.infoFPS.innerHTML=""+e.toFixed(1)}}]),e}();t.default=o}]).default}))})),DPlayer=unwrapExports(DPlayer_min),DPlayer_min_1=DPlayer_min.DPlayer,VueDPlayer={props:{options:{type:Object}},data:function(){return{dp:null}},mounted:function(){var e=this;this.options.container=this.$el;var t=this.dp=new DPlayer(this.options),i=t.events;Object.keys(i).forEach((function(n){if("events"===n)return!1;i[n].forEach((function(i){t.on(i,(function(){return e.$emit(i)}))}))}))},install:function(e,t){void 0===t&&(t={});var i=t.name;void 0===i&&(i="d-player"),e.component(i,this)},render:function(e){return e("div",{class:"dplayer"},[])}};return"undefined"!==typeof window&&window.Vue&&(window.VueDPlayer=VueDPlayer),VueDPlayer}))}).call(this,__webpack_require__("c8ba"))},8336:function(e,t,i){"use strict";var n=i("cec4"),a=i.n(n);a.a},b234:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-card",{attrs:{bordered:!1}},[i("div",{staticClass:"table-page-search-wrapper operator"},[i("div",{staticClass:"file-path-tools"},[i("a-button",{class:{disable:0==e.directoryCursor},attrs:{shape:"circle",icon:"arrow-left"},on:{click:function(t){return e.nextOrPrevious(!0,!1)}}}),i("a-button",{class:{disable:null==e.parentPath},attrs:{shape:"circle",icon:"arrow-up"},on:{click:e.toParentPath}}),i("a-button",{class:{disable:e.directoryCursor+1>=e.directoryHistory.length},attrs:{shape:"circle",icon:"arrow-right"},on:{click:function(t){return e.nextOrPrevious(!1,!0)}}}),i("a-button",{attrs:{shape:"circle",icon:"redo",loading:e.loading},on:{click:function(t){return e.getDataSource(e.directoryHistory[e.directoryCursor])}}})],1),i("a-breadcrumb",{staticClass:"file-path"},[i("a-breadcrumb-item",[i("a",{attrs:{href:""},on:{click:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),e.getDataSource("root"))}}},[e._v("主目录")])]),e._l(e.paths,(function(t,n){return i("a-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"index > 0"}],key:n},[i("a",{attrs:{href:""},on:{click:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),e.handleBreadcrumb(n))}}},[e._v(e._s(t))])])}))],2)],1),i("div",{staticClass:"table-operator operator file-operator"},[i("div",[i("a-dropdown",[i("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[i("a-menu-item",{key:"1"},[e._v("上传文件")]),i("a-menu-item",{key:"2"},[e._v("上传文件夹")])],1),i("a-button",{attrs:{icon:"upload"}},[e._v(" 上传 "),i("a-icon",{attrs:{type:"down"}})],1)],1),i("a-button",{attrs:{icon:"folder-add"},on:{click:function(t){e.nameOperate.isCreate=e.nameOperate.visible=!0}}},[e._v("文件夹")]),e.selectedRow.length>0?i("a-button-group",[i("a-button",{attrs:{icon:"share-alt"}},[e._v("分享")]),i("a-button",{attrs:{icon:"download"}},[e._v("下载")]),i("a-button",{attrs:{icon:"edit"},on:{click:function(t){e.nameOperate.isCreate=!1,e.nameOperate.visible=!0,e.nameOperate.source=e.cacheRecord.name}}},[e._v("重命名")]),i("a-button",{attrs:{icon:"copy"},on:{click:function(t){return e.moveOrCopyHandle("copy")}}},[e._v("复制到")]),i("a-button",{attrs:{icon:"arrow-right"},on:{click:function(t){return e.moveOrCopyHandle("move")}}},[e._v("移动到")]),i("a-button",{attrs:{icon:"delete"},on:{click:e.handleDelete}},[e._v("删除")])],1):e._e()],1),i("div")]),i("a-spin",{attrs:{spinning:e.loading}},[i("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"}),i("table",{ref:"directory",staticClass:"directory"},[i("thead",[i("tr",[i("th",{staticClass:"directory-cell directory-head-cell"},[e._v("名称")]),i("th",{staticClass:"directory-cell directory-head-cell"},[e._v("大小")]),i("th",{staticClass:"directory-cell directory-head-cell"},[e._v("日期")])])]),i("tbody",e._l(e.localDataSource,(function(t,n){return i("tr",{key:t.name,class:{active:e.selectedRow.includes(n)},on:{click:function(i){return e.rowClick(t,n,i)},dblclick:function(i){return e.rowDblclick(t)},contextmenu:function(i){return e.contextmenu(t,i)}}},[i("td",{staticClass:"directory-cell"},[i("span",{staticClass:"file-icon"},[i("a-icon",{attrs:{type:t.isDirectory?"folder":e.fileIcon(t.mediaType)}})],1),i("span",{staticClass:"file-name"},[e._v(e._s(t.name))])]),i("td",{staticClass:"directory-cell"},[e._v(e._s(e._f("fileSizeFormat")(t.size)))]),i("td",{staticClass:"directory-cell"},[e._v(e._s(e._f("moment")(t.date)))])])})),0)])],1),i("a-modal",{attrs:{title:"上传附件",footer:null,destroyOnClose:""},model:{value:e.uploadVisible,callback:function(t){e.uploadVisible=t},expression:"uploadVisible"}},[i("Upload",{attrs:{uploadHandler:e.uploadHandler,attachOption:{path:e.paths.join("/")},directory:e.uploadDirectory,multiple:!0}})],1),i("a-modal",{attrs:{title:"move"===e.moveOrCopyType?"移动到":"复制到",visible:e.moveOrCopyVisible},on:{cancel:function(t){e.moveOrCopyVisible=!1},ok:e.handleMoveOrCopy}},[i("a-directory-tree",{attrs:{defaultExpandAll:"",treeData:e.treeData,replaceFields:{children:"child",title:"name"}},on:{select:e.moveOrCopyClick}})],1),i("FileOperate",{ref:"fileOperate",attrs:{paths:e.paths,nameOperate:e.nameOperate},on:{callback:function(t){return e.getDataSource()}}}),e.selectAttachment?i("AttachmentPreview",{ref:"attachmentPreview",attrs:{attachment:e.selectAttachment}}):e._e(),i("v-contextmenu",{ref:"contextmenu"},[i("v-contextmenu-item",{on:{click:function(t){return e.rowDblclick(e.cacheRecord)}}},[e._v(e._s(void 0!==e.cacheRecord&&e.cacheRecord.isDirectory?"打开":"预览"))]),i("v-contextmenu-item",[e._v("下载")]),i("v-contextmenu-item",{attrs:{divider:""}}),i("v-contextmenu-item",[e._v("分享")]),i("v-contextmenu-item",{attrs:{divider:""}}),i("v-contextmenu-item",{on:{click:function(t){return e.moveOrCopyHandle("copy")}}},[e._v("复制到")]),i("v-contextmenu-item",{on:{click:function(t){return e.moveOrCopyHandle("move")}}},[e._v("移动到")]),i("v-contextmenu-item",{attrs:{divider:""}}),i("v-contextmenu-item",{on:{click:function(t){e.nameOperate.isCreate=!1,e.nameOperate.visible=!0,e.nameOperate.source=e.cacheRecord.name}}},[e._v("重命名")]),i("v-contextmenu-item",{on:{click:e.handleDelete}},[e._v("删除")])],1)],1)},a=[],o=(i("caad"),i("c975"),i("a15b"),i("baa5"),i("fb6a"),i("a434"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("2532"),i("1276"),i("ac0d")),s=i("c98e"),r=i("b775"),l="http://localhost:8080/",c=l+"api/admin/fileManager",u={getAttrUrl:function(){return l+"/upload/"},query:function(e){return Object(r["b"])({url:"".concat(c,"/list"),params:e,method:"get"})},createFolder:function(e){return Object(r["b"])({url:"".concat(c,"/createFolder"),params:e,method:"put"})},rename:function(e){return Object(r["b"])({url:"".concat(c,"/rename"),params:e,method:"put"})},folderNode:function(e){return Object(r["b"])({url:c+"/folderNode",params:e,method:"get"})},copy:function(e){return Object(r["b"])({url:"".concat(c,"/copy"),params:e,method:"post"})},move:function(e){return Object(r["b"])({url:"".concat(c,"/move"),params:e,method:"post"})},remove:function(e){return Object(r["b"])({url:"".concat(c,"/remove"),params:e,method:"post"})},upload:function(e,t,i){return Object(r["b"])({url:"".concat(c,"/upload"),timeout:864e4,data:e,cancelToken:i,method:"post"})}},d=u,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a-modal",{staticStyle:{top:"20px"},attrs:{footer:null,maskClosable:!1,maskStyle:{"background-color":"rgba(0, 0, 0, 0)"},wrapClassName:"dplayer-modal",destroyOnClose:"",closable:!1,centered:""},model:{value:e.videoPreviewVisible,callback:function(t){e.videoPreviewVisible=t},expression:"videoPreviewVisible"}},[i("div",{staticClass:"dplayer-header",on:{mousedown:e.move}},[i("div",{staticClass:"dplayer-header-title"},[e._v("视频播放")]),i("div",{staticClass:"dplayer-close",on:{click:function(t){e.videoPreviewVisible=!1}}},[i("a-icon",{attrs:{type:"close"}})],1)]),i("div",{staticClass:"dplayer-body"},[i("d-player",{directives:[{name:"show",rawName:"v-show",value:e.videoPreviewVisible,expression:"videoPreviewVisible"}],ref:"player",staticClass:"video-player-box",staticStyle:{width:"100%"},attrs:{options:e.videoOptions}})],1)]),i("a-modal",{staticStyle:{top:"20px"},attrs:{footer:null,maskClosable:!1,maskStyle:{"background-color":"rgba(0, 0, 0, 0)"},wrapClassName:"dplayer-modal",destroyOnClose:"",closable:!1,centered:""},model:{value:e.audioPreviewVisible,callback:function(t){e.audioPreviewVisible=t},expression:"audioPreviewVisible"}},[i("div",{staticClass:"dplayer-header",on:{mousedown:e.move}},[i("div",{staticClass:"dplayer-header-title"},[e._v("音频播放")]),i("div",{staticClass:"dplayer-close",on:{click:function(t){e.audioPreviewVisible=!1}}},[i("a-icon",{attrs:{type:"close"}})],1)]),i("div",{staticClass:"dplayer-body"},[i("audio",{staticStyle:{width:"100%","background-color":"#f1f3f4","margin-bottom":"-5px"},attrs:{src:e.audioOptions.url,controls:"controls"}})])])],1)},p=[],m=(i("4da9"),i("71ee")),f=i.n(m),v=(i("0808"),i("c82c")),y=i.n(v),g={name:"AttachmentPreview",components:{"d-player":f.a},props:{attachment:{type:Object,required:!0},visible:{type:Boolean,required:!1,default:!0}},data:function(){return{photo:{},previewLoading:!0,photoPreviewVisible:!1,videoPreviewVisible:!1,audioPreviewVisible:!1,nonsupportPreviewVisible:!1,player:{},audioOptions:{url:""},videoOptions:{lang:"zh-cn",video:{url:"",type:"auto"}}}},watch:{visible:function(e,t){e&&this.loadSkeleton()},attachment:function(e,t){if(e){var i=e;this.handleJudgeMediaType(i)}},photoPreviewVisible:function(e,t){this.showViewer(this,this.photoPreviewVisible)}},methods:{showViewer:function(e,t){if(t){var i=new Image;i.src=this.attachment.path;var n=new y.a(i,{navbar:!1,hidden:function(){n.destroy(),e.photoPreviewVisible=!t}});n.show()}},move:function(e){var t=this,i=e.target.parentElement.parentElement,n=e.clientX-i.offsetLeft,a=e.clientY-i.offsetTop;document.onmousemove=function(e){var o=e.clientX-n,s=e.clientY-a;t.positionX=s,t.positionY=o,i.style.left=o+"px",i.style.top=s+"px"},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}},loadSkeleton:function(){var e=this;this.previewLoading=!0,setTimeout((function(){e.previewLoading=!1}),500)},handleJudgeMediaType:function(e){var t=e.mediaType;if(t){var i=t.split("/")[0];if("video"===i||"flv"===i){this.handlePreviewVisible(!1,!0,!1,!1);var n=e.path.lastIndexOf("?"),a=e.path.substring(0,-1===n?e.path.lenght:n);this.$set(this.videoOptions.video,"url",a)}else"image"===i?this.handlePreviewVisible(!0,!1,!1,!1):"audio"===i?(this.handlePreviewVisible(!1,!1,!0,!1),this.$set(this.audioOptions,"url",e.path)):this.handlePreviewVisible(!1,!1,!1,!0)}},handlePreviewVisible:function(e,t,i,n){this.$set(this,"photoPreviewVisible",e),this.$set(this,"videoPreviewVisible",t),this.$set(this,"audioPreviewVisible",i),this.$set(this,"nonsupportPreviewVisible",n)}}},b=g,w=(i("8336"),i("2877")),k=Object(w["a"])(b,h,p,!1,null,null,null),x=k.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{title:e.nameOperate.isCreate?"创建文件夹":"重命名",visible:e.nameOperate.visible,confirmLoading:e.nameOperate.loading},on:{ok:e.handleName,cancel:function(t){e.nameOperate.visible=!1}}},[e.nameOperate.visible?i("a-input",{attrs:{size:"large",placeholder:"文件名称"},model:{value:e.nameOperate.value,callback:function(t){e.$set(e.nameOperate,"value",t)},expression:"nameOperate.value"}}):e._e()],1)},T=[],L={name:"FileOperate",props:{nameOperate:{type:Object,required:!1,default:function(){return{isCreate:!1,visible:!1}}},paths:{type:Array,required:!1,default:function(){return[]}},callback:{type:Function,required:!1,default:function(){}}},data:function(){return{}},watch:{"nameOperate.visible":function(e,t){e&&this.$set(this.nameOperate,"value",this.nameOperate.source)}},methods:{handleName:function(){this.nameOperate.loading=!0;var e=this.paths.join("/")+"/";this.nameOperate.isCreate?d.createFolder({path:e+this.nameOperate.value}).then((function(e){})):d.rename({path:e+this.nameOperate.source,newPath:e+this.nameOperate.value}).then((function(e){})),this.nameOperate.loading=this.nameOperate.visible=!1,this.callback()}}},O=L,E=Object(w["a"])(O,S,T,!1,null,null,null),_=E.exports,C={name:"TableList",components:{Upload:s["a"],AttachmentPreview:x,FileOperate:_},mixins:[o["b"],o["c"]],mounted:function(){this.getDataSource(),this.directoryHistory.push(this.queryParam.path)},data:function(){return{directoryHistory:[],directoryCursor:0,paths:[],parentPath:"",queryParam:{path:"root"},localDataSource:[],treeData:[],selectedRow:[],nameOperate:{isCreate:!1,visible:!1},loading:!0,selectAttachment:{},cacheRecord:void 0,uploadVisible:!1,uploadDirectory:!1,moveOrCopyVisible:!1,moveOrCopyType:"",moveOrCopyKey:"",uploadHandler:d.upload,fileIcon:function(e){if(void 0!==e&&null!==e){var t=e.split("/")[0];if("image"===t)return"picture";if("video"===t)return"play-square";if("audio"===t)return"play-circle"}return"file"}}},methods:{moveOrCopyHandle:function(e){var t=this;this.moveOrCopyType=e,d.folderNode().then((function(e){t.treeData=e})),this.moveOrCopyVisible=!0},handleMenuClick:function(e){"1"===e.key?(this.uploadVisible=!0,this.uploadDirectory=!1):this.uploadDirectory=this.uploadVisible=!0},toParentPath:function(){this.getDataSource(this.parentPath),this.directoryHistory.splice(this.directoryCursor+1,this.directoryHistory.length-this.directoryCursor,this.parentPath),this.directoryCursor=this.directoryHistory.length-1},nextOrPrevious:function(e,t){e&&this.directoryHistory.length>=this.directoryCursor-1&&this.directoryCursor>0&&(this.getDataSource(this.directoryHistory[this.directoryCursor-1]),this.directoryCursor--),t&&this.directoryCursor+1<this.directoryHistory.length&&(this.getDataSource(this.directoryHistory[this.directoryCursor+1]),this.directoryCursor++)},getDataSource:function(e){var t=this;this.loading=!0,this.selectedRow=[],void 0!==e&&(this.queryParam.path=e),d.query(Object.assign(this.queryParam)).then((function(i){t.localDataSource=i.data,t.paths=Object.assign({},t.queryParam).path.split("/"),void 0!==e&&-1!==e.lastIndexOf("/")&&(t.parentPath=e.substring(0,e.lastIndexOf("/"))),t.loading=!1})).catch((function(e){t.loading=!1,t.$notification.error({message:"错误提示",description:e.toString()})}))},rowClick:function(e,t,i){if(window.getSelection?window.getSelection().removeAllRanges():document.selection.empty(),i.ctrlKey){var n=this.selectedRow.indexOf(t);this.selectedRow.includes(t)&&n>-1?this.selectedRow.splice(n,1):this.selectedRow.push(t)}else if(i.shiftKey){if(this.selectedRow[0]<t)for(var a=1;a<=t-this.selectedRow[0];a++)this.selectedRow.push(this.selectedRow[0]+a);if(this.selectedRow[0]>t)for(var o=0;o<this.selectedRow[0]-t;o++)this.selectedRow.push(t+o)}else this.selectedRow=[],this.selectedRow.push(t)},rowDblclick:function(e){var t=this.paths.join("/")+"/"+e.name;void 0!==e.isDirectory&e.isDirectory?(this.getDataSource(t),this.directoryHistory.splice(this.directoryCursor+1,this.directoryHistory.length-this.directoryCursor,this.queryParam.path),this.directoryCursor=this.directoryHistory.length-1):(e.path=d.getAttrUrl()+t,this.selectAttachment=Object.assign({},e))},contextmenu:function(e,t){return this.cacheRecord=Object.assign({},e),this.$refs.contextmenu.show({top:t.pageY,left:t.pageX}),window.event.returnValue=!1,!1},handleDelete:function(){for(var e=[],t=0;t<this.selectedRow.length;t++)e.push(this.paths.join("/")+"/"+this.localDataSource[this.selectedRow[t]].name);var i=this;this.$confirm({title:"确认删除",content:"确认要把所选文件放入回收站吗？",onOk:function(){d.remove({paths:e.toString()}).then((function(e){i.getDataSource()}))},onCancel:function(){}})},moveOrCopyClick:function(e,t){this.moveOrCopyKey=e.toString()},handleMoveOrCopy:function(){var e=this;if(""!==this.moveOrCopyKey){for(var t=[],i=0;i<this.selectedRow.length;i++)t.push(this.paths.join("/")+"/"+this.localDataSource[this.selectedRow[i]].name);"move"===this.moveOrCopyType?d.move({paths:t.toString(),newPath:this.moveOrCopyKey}).then((function(t){e.getDataSource(),e.moveOrCopyVisible=!1})):d.copy({paths:t.toString(),newPath:this.moveOrCopyKey}).then((function(t){e.getDataSource(),e.moveOrCopyVisible=!1}))}else this.$notification.error({message:"错误提示",description:"请选择目录后再继续操作"})},handleBreadcrumb:function(e){this.getDataSource(this.paths.slice(0,e+1).join("/"))}},watch:{uploadVisible:function(e,t){this.getDataSource()}}},M=C,q=(i("3bed"),Object(w["a"])(M,n,a,!1,null,"43fb0955",null));t["default"]=q.exports},c82c:function(e,t,i){
/*!
 * Viewer.js v1.5.0
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-11-23T05:10:26.193Z
 */
(function(t,i){e.exports=i()})(0,(function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var r={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},l='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>',c="undefined"!==typeof window&&"undefined"!==typeof window.document,u=c?window:{},d=!!c&&"ontouchstart"in u.document.documentElement,h=!!c&&"PointerEvent"in u,p="viewer",m="move",f="switch",v="zoom",y="".concat(p,"-active"),g="".concat(p,"-close"),b="".concat(p,"-fade"),w="".concat(p,"-fixed"),k="".concat(p,"-fullscreen"),x="".concat(p,"-fullscreen-exit"),S="".concat(p,"-hide"),T="".concat(p,"-hide-md-down"),L="".concat(p,"-hide-sm-down"),O="".concat(p,"-hide-xs-down"),E="".concat(p,"-in"),_="".concat(p,"-invisible"),C="".concat(p,"-loading"),M="".concat(p,"-move"),q="".concat(p,"-open"),P="".concat(p,"-show"),D="".concat(p,"-transition"),z="click",B="dblclick",I="dragstart",j="hidden",F="hide",H="keydown",R="load",W=d?"touchstart":"mousedown",A=d?"touchmove":"mousemove",V=d?"touchend touchcancel":"mouseup",N=h?"pointerdown":W,X=h?"pointermove":A,Y=h?"pointerup pointercancel":V,$="ready",U="resize",K="show",Q="shown",J="transitionend",Z="view",G="viewed",ee="wheel",te="zoom",ie="zoomed",ne="".concat(p,"Action"),ae=/\s\s*/,oe=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function se(e){return"string"===typeof e}var re=Number.isNaN||u.isNaN;function le(e){return"number"===typeof e&&!re(e)}function ce(e){return"undefined"===typeof e}function ue(t){return"object"===e(t)&&null!==t}var de=Object.prototype.hasOwnProperty;function he(e){if(!ue(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&de.call(i,"isPrototypeOf")}catch(n){return!1}}function pe(e){return"function"===typeof e}function me(e,t){if(e&&pe(t))if(Array.isArray(e)||le(e.length)){var i,n=e.length;for(i=0;i<n;i+=1)if(!1===t.call(e,e[i],i,e))break}else ue(e)&&Object.keys(e).forEach((function(i){t.call(e,e[i],i,e)}));return e}var fe=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return ue(e)&&i.length>0&&i.forEach((function(t){ue(t)&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e},ve=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ye(e,t){var i=e.style;me(t,(function(e,t){ve.test(t)&&le(e)&&(e+="px"),i[t]=e}))}function ge(e){return se(e)?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function be(e,t){return!(!e||!t)&&(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)}function we(e,t){if(e&&t)if(le(e.length))me(e,(function(e){we(e,t)}));else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function ke(e,t){e&&t&&(le(e.length)?me(e,(function(e){ke(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function xe(e,t,i){t&&(le(e.length)?me(e,(function(e){xe(e,t,i)})):i?we(e,t):ke(e,t))}var Se=/([a-z\d])([A-Z])/g;function Te(e){return e.replace(Se,"$1-$2").toLowerCase()}function Le(e,t){return ue(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Te(t)))}function Oe(e,t,i){ue(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Te(t)),i)}var Ee=function(){var e=!1;if(c){var t=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});u.addEventListener("test",i,n),u.removeEventListener("test",i,n)}return e}();function _e(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;t.trim().split(ae).forEach((function(t){if(!Ee){var o=e.listeners;o&&o[t]&&o[t][i]&&(a=o[t][i],delete o[t][i],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,a,n)}))}function Ce(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;t.trim().split(ae).forEach((function(t){if(n.once&&!Ee){var o=e.listeners,s=void 0===o?{}:o;a=function(){delete s[t][i],e.removeEventListener(t,a,n);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];i.apply(e,r)},s[t]||(s[t]={}),s[t][i]&&e.removeEventListener(t,s[t][i],n),s[t][i]=a,e.listeners=s}e.addEventListener(t,a,n)}))}function Me(e,t,i){var n;return pe(Event)&&pe(CustomEvent)?n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,i)),e.dispatchEvent(n)}function qe(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function Pe(e){var t=e.rotate,i=e.scaleX,n=e.scaleY,a=e.translateX,o=e.translateY,s=[];le(a)&&0!==a&&s.push("translateX(".concat(a,"px)")),le(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),le(t)&&0!==t&&s.push("rotate(".concat(t,"deg)")),le(i)&&1!==i&&s.push("scaleX(".concat(i,")")),le(n)&&1!==n&&s.push("scaleY(".concat(n,")"));var r=s.length?s.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function De(e){return se(e)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var ze=u.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(u.navigator.userAgent);function Be(e,t){var i=document.createElement("img");if(e.naturalWidth&&!ze)return t(e.naturalWidth,e.naturalHeight),i;var n=document.body||document.documentElement;return i.onload=function(){t(i.width,i.height),ze||n.removeChild(i)},i.src=e.src,ze||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(i)),i}function Ie(e){switch(e){case 2:return O;case 3:return L;case 4:return T;default:return""}}function je(e){var t=s({},e),i=[];return me(e,(function(e,n){delete t[n],me(t,(function(t){var n=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),s=Math.abs(e.endY-t.endY),r=Math.sqrt(n*n+a*a),l=Math.sqrt(o*o+s*s),c=(l-r)/r;i.push(c)}))})),i.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),i[0]}function Fe(e,t){var i=e.pageX,n=e.pageY,a={endX:i,endY:n};return t?a:s({timeStamp:Date.now(),startX:i,startY:n},a)}function He(e){var t=0,i=0,n=0;return me(e,(function(e){var a=e.startX,o=e.startY;t+=a,i+=o,n+=1})),t/=n,i/=n,{pageX:t,pageY:i}}var Re={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e,t=this.options,i=this.parent;t.inline&&(e={width:Math.max(i.offsetWidth,t.minWidth),height:Math.max(i.offsetHeight,t.minHeight)},this.parentData=e),!this.fulled&&e||(e=this.containerData),this.viewerData=fe({},e)},renderViewer:function(){this.options.inline&&!this.fulled&&ye(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,i=this.options,n=this.list,a=[];n.innerHTML="",me(this.images,(function(t,o){var s=t.src,r=t.alt||De(s),l=i.url;if(se(l)?l=t.getAttribute(l):pe(l)&&(l=l.call(e,t)),s||l){var c=document.createElement("li"),u=document.createElement("img");u.src=s||l,u.alt=r,u.setAttribute("data-index",o),u.setAttribute("data-original-url",l||s),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),c.appendChild(u),n.appendChild(c),a.push(c)}})),this.items=a,me(a,(function(t){var n=t.firstElementChild;Oe(n,"filled",!0),i.loading&&we(t,C),Ce(n,R,(function(n){i.loading&&ke(t,C),e.loadImage(n)}),{once:!0})})),i.transition&&Ce(t,G,(function(){we(n,D)}),{once:!0})},renderList:function(e){var t=e||this.index,i=this.items[t].offsetWidth||30,n=i+1;ye(this.list,fe({width:n*this.length},Pe({translateX:(this.viewerData.width-i)/2-n*t})))},resetList:function(){var e=this.list;e.innerHTML="",ke(e,D),ye(e,Pe({translateX:0}))},initImage:function(e){var t,i=this,n=this.options,a=this.image,o=this.viewerData,s=this.footer.offsetHeight,r=o.width,l=Math.max(o.height-s,s),c=this.imageData||{};this.imageInitializing={abort:function(){t.onload=null}},t=Be(a,(function(t,a){var o=t/a,s=r,u=l;i.imageInitializing=!1,l*o>r?u=r/o:s=l*o,s=Math.min(.9*s,t),u=Math.min(.9*u,a);var d={naturalWidth:t,naturalHeight:a,aspectRatio:o,ratio:s/t,width:s,height:u,left:(r-s)/2,top:(l-u)/2},h=fe({},d);n.rotatable&&(d.rotate=c.rotate||0,h.rotate=0),n.scalable&&(d.scaleX=c.scaleX||1,d.scaleY=c.scaleY||1,h.scaleX=1,h.scaleY=1),i.imageData=d,i.initialImageData=h,e&&e()}))},renderImage:function(e){var t=this,i=this.image,n=this.imageData;if(ye(i,fe({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top},Pe(n))),e)if((this.viewing||this.zooming)&&this.options.transition){var a=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){_e(i,J,a)}},Ce(i,J,a,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},We={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;Ce(t,z,this.onClick=this.click.bind(this)),Ce(t,I,this.onDragStart=this.dragstart.bind(this)),Ce(i,N,this.onPointerDown=this.pointerdown.bind(this)),Ce(n,X,this.onPointerMove=this.pointermove.bind(this)),Ce(n,Y,this.onPointerUp=this.pointerup.bind(this)),Ce(n,H,this.onKeyDown=this.keydown.bind(this)),Ce(window,U,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&Ce(t,ee,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&Ce(i,B,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,n=this.element.ownerDocument;_e(t,z,this.onClick),_e(t,I,this.onDragStart),_e(i,N,this.onPointerDown),_e(n,X,this.onPointerMove),_e(n,Y,this.onPointerUp),_e(n,H,this.onKeyDown),_e(window,U,this.onResize),e.zoomable&&e.zoomOnWheel&&_e(t,ee,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&_e(i,B,this.onDblclick)}},Ae={click:function(e){var t=e.target,i=this.options,n=this.imageData,a=Le(t,ne);switch(d&&e.isTrusted&&t===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Le(t,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(d&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,i=this.options,n=this.image,a=this.index,o=this.viewerData;ke(n,_),i.loading&&ke(this.canvas,C),n.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage((function(){xe(n,M,i.movable),xe(n,D,i.transition),e.renderImage((function(){e.viewed=!0,e.viewing=!1,pe(i.viewed)&&Ce(t,G,i.viewed,{once:!0}),Me(t,G,{originalImage:e.images[a],index:a,image:n})}))}))},loadImage:function(e){var t=e.target,i=t.parentNode,n=i.offsetWidth||30,a=i.offsetHeight||50,o=!!Le(t,"filled");Be(t,(function(e,i){var s=e/i,r=n,l=a;a*s>n?o?r=a*s:l=n/s:o?l=n/s:r=a*s,ye(t,fe({width:r,height:l},Pe({translateX:(n-r)/2,translateY:(a-l)/2})))}))},keydown:function(e){var t=this.options;if(this.fulled&&t.keyboard)switch(e.keyCode||e.which||e.charCode){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}},dragstart:function(e){"img"===e.target.tagName.toLowerCase()&&e.preventDefault()},pointerdown:function(e){var t=this.options,i=this.pointers,n=e.buttons,a=e.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(le(n)&&1!==n||le(a)&&0!==a||e.ctrlKey))){e.preventDefault(),e.changedTouches?me(e.changedTouches,(function(e){i[e.identifier]=Fe(e)})):i[e.pointerId||0]=Fe(e);var o=!!t.movable&&m;t.zoomOnTouch&&t.zoomable&&Object.keys(i).length>1?o=v:t.slideOnTouch&&("touch"===e.pointerType||"touchstart"===e.type)&&this.isSwitchable()&&(o=f),!t.transition||o!==m&&o!==v||ke(this.image,D),this.action=o}},pointermove:function(e){var t=this.pointers,i=this.action;this.viewed&&i&&(e.preventDefault(),e.changedTouches?me(e.changedTouches,(function(e){fe(t[e.identifier]||{},Fe(e,!0))})):fe(t[e.pointerId||0]||{},Fe(e,!0)),this.change(e))},pointerup:function(e){var t,i=this,n=this.options,a=this.action,o=this.pointers;e.changedTouches?me(e.changedTouches,(function(e){t=o[e.identifier],delete o[e.identifier]})):(t=o[e.pointerId||0],delete o[e.pointerId||0]),a&&(e.preventDefault(),!n.transition||a!==m&&a!==v||we(this.image,D),this.action=!1,d&&a!==v&&t&&Date.now()-t.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout((function(){Me(i.image,B)}),50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout((function(){i.imageClicked=!1}),500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout((function(){Me(i.canvas,z)}),50)))))},resize:function(){var e=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){e.renderImage()})),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();me(this.player.getElementsByTagName("img"),(function(t){Ce(t,R,e.loadImage.bind(e),{once:!0}),Me(t,R)}))}},wheel:function(e){var t=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50);var i=Number(this.options.zoomRatio)||.1,n=1;e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*i,!0,e)}}},Ve={show:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(pe(i.show)&&Ce(t,K,i.show,{once:!0}),!1===Me(t,K)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(ke(n,S),i.transition&&!e){var a=this.shown.bind(this);this.transitioning={abort:function(){_e(n,J,a),ke(n,E)}},we(n,D),n.initialOffsetWidth=n.offsetWidth,Ce(n,J,a,{once:!0}),we(n,E)}else we(n,E),this.shown();return this},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.element,i=this.options;if(i.inline||this.hiding||!this.isShown&&!this.showing)return this;if(pe(i.hide)&&Ce(t,F,i.hide,{once:!0}),!1===Me(t,F))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var n=this.viewer;if(i.transition&&!e){var a=this.hidden.bind(this),o=function(){setTimeout((function(){Ce(n,J,a,{once:!0}),ke(n,E)}),0)};this.transitioning={abort:function(){this.viewed?_e(this.image,J,o):_e(n,J,a)}},this.viewed&&be(this.image,D)?(Ce(this.image,J,o,{once:!0}),this.zoomTo(0,!1,!1,!0)):o()}else ke(n,E),this.hidden();return this},view:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;if(!this.isShown)return this.index=t,this.show();this.viewing&&this.viewing.abort();var i=this.element,n=this.options,a=this.title,o=this.canvas,s=this.items[t],r=s.querySelector("img"),l=Le(r,"originalUrl"),c=r.getAttribute("alt"),u=document.createElement("img");if(u.src=l,u.alt=c,pe(n.view)&&Ce(i,Z,n.view,{once:!0}),!1===Me(i,Z,{originalImage:this.images[t],index:t,image:u})||!this.isShown||this.hiding||this.played)return this;this.image=u,ke(this.items[this.index],y),we(s,y),this.viewed=!1,this.index=t,this.imageData={},we(u,_),n.loading&&we(o,C),o.innerHTML="",o.appendChild(u),this.renderList(),a.innerHTML="";var d,h=function(){var t=e.imageData,i=Array.isArray(n.title)?n.title[1]:n.title;a.innerHTML=ge(pe(i)?i.call(e,u,t):"".concat(c," (").concat(t.naturalWidth," × ").concat(t.naturalHeight,")"))};return Ce(i,G,h,{once:!0}),this.viewing={abort:function(){_e(i,G,h),u.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(u.src="",_e(u,R,d),this.timeout&&clearTimeout(this.timeout))}},u.complete?this.load():(Ce(u,R,d=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){ke(u,_),e.timeout=!1}),1e3)),this},prev:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.length-1,i=this.index+1;return i>t&&(i=e?0:t),this.view(i),this},move:function(e,t){var i=this.imageData;return this.moveTo(ce(e)?e:i.left+Number(e),ce(t)?t:i.top+Number(t)),this},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&this.options.movable){var n=!1;le(e)&&(i.left=e,n=!0),le(t)&&(i.top=t,n=!0),n&&this.renderImage()}return this},zoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return e=Number(e),e=e<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,t,i),this},zoomTo:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.element,s=this.options,r=this.pointers,l=this.imageData,c=l.width,u=l.height,d=l.left,h=l.top,p=l.naturalWidth,m=l.naturalHeight;if(e=Math.max(0,e),le(e)&&this.viewed&&!this.played&&(a||s.zoomable)){if(!a){var f=Math.max(.01,s.minZoomRatio),v=Math.min(100,s.maxZoomRatio);e=Math.min(Math.max(e,f),v)}n&&e>.95&&e<1.05&&(e=1);var y=p*e,g=m*e,b=y-c,w=g-u,k=c/p;if(pe(s.zoom)&&Ce(o,te,s.zoom,{once:!0}),!1===Me(o,te,{ratio:e,oldRatio:k,originalEvent:n}))return this;if(this.zooming=!0,n){var x=qe(this.viewer),S=r&&Object.keys(r).length?He(r):{pageX:n.pageX,pageY:n.pageY};l.left-=b*((S.pageX-x.left-d)/c),l.top-=w*((S.pageY-x.top-h)/u)}else l.left-=b/2,l.top-=w/2;l.width=y,l.height=g,l.ratio=e,this.renderImage((function(){t.zooming=!1,pe(s.zoomed)&&Ce(o,ie,s.zoomed,{once:!0}),Me(o,ie,{ratio:e,oldRatio:k,originalEvent:n})})),i&&this.tooltip()}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this.imageData;return e=Number(e),le(e)&&this.viewed&&!this.played&&this.options.rotatable&&(t.rotate=e,this.renderImage()),this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&this.options.scalable){var n=!1;le(e)&&(i.scaleX=e,n=!0),le(t)&&(i.scaleY=t,n=!0),n&&this.renderImage()}return this},play:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i=this.options,n=this.player,a=this.loadImage.bind(this),o=[],s=0,r=0;if(this.played=!0,this.onLoadWhenPlay=a,t&&this.requestFullscreen(),we(n,P),me(this.items,(function(e,t){var l=e.querySelector("img"),c=document.createElement("img");c.src=Le(l,"originalUrl"),c.alt=l.getAttribute("alt"),s+=1,we(c,b),xe(c,D,i.transition),be(e,y)&&(we(c,E),r=t),o.push(c),Ce(c,R,a,{once:!0}),n.appendChild(c)})),le(i.interval)&&i.interval>0){var l=function t(){e.playing=setTimeout((function(){ke(o[r],E),r+=1,r=r<s?r:0,we(o[r],E),t()}),i.interval)};s>1&&l()}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.player;return this.played=!1,clearTimeout(this.playing),me(t.getElementsByTagName("img"),(function(t){_e(t,R,e.onLoadWhenPlay)})),ke(t,P),t.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,i=this.viewer,n=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!t.inline||(this.fulled=!0,this.open(),we(this.button,x),t.transition&&(ke(a,D),this.viewed&&ke(n,D)),we(i,w),i.setAttribute("style",""),ye(i,{zIndex:t.zIndex}),this.initContainer(),this.viewerData=fe({},this.containerData),this.renderList(),this.viewed&&this.initImage((function(){e.renderImage((function(){t.transition&&setTimeout((function(){we(n,D),we(a,D)}),0)}))}))),this},exit:function(){var e=this,t=this.options,i=this.viewer,n=this.image,a=this.list;return this.isShown&&!this.played&&this.fulled&&t.inline?(this.fulled=!1,this.close(),ke(this.button,x),t.transition&&(ke(a,D),this.viewed&&ke(n,D)),ke(i,w),ye(i,{zIndex:t.zIndexInline}),this.viewerData=fe({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){e.renderImage((function(){t.transition&&setTimeout((function(){we(n,D),we(a,D)}),0)}))})),this):this},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&t.tooltip?(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&Me(i,J),we(i,P),we(i,b),we(i,D),i.initialOffsetWidth=i.offsetWidth,we(i,E)):we(i,P),this.tooltipping=setTimeout((function(){t.transition?(Ce(i,J,(function(){ke(i,P),ke(i,b),ke(i,D),e.fading=!1}),{once:!0}),ke(i,E),e.fading=!0):ke(i,P),e.tooltipping=!1}),1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=fe({},this.initialImageData),this.renderImage()),this},update:function(){var e=this.element,t=this.options,i=this.isImg;if(i&&!e.parentNode)return this.destroy();var n=[];if(me(i?[e]:e.querySelectorAll("img"),(function(e){t.filter?t.filter(e)&&n.push(e):n.push(e)})),!n.length)return this;if(this.images=n,this.length=n.length,this.ready){var a=[];if(me(this.items,(function(e,t){var i=e.querySelector("img"),o=n[t];o&&i?o.src!==i.src&&a.push(t):a.push(t)})),ye(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=a.indexOf(this.index);o>=0?(this.viewed=!1,this.view(Math.max(this.index-(o+1),0))):we(this.items[this.index],y)}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[p]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||_e(e,z,this.onStart),e[p]=void 0,this):this}},Ne={open:function(){var e=this.body;we(e,q),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var e=this.body;ke(e,q),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,pe(t.shown)&&Ce(e,Q,t.shown,{once:!0}),!1!==Me(e,Q)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),we(this.viewer,S),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(pe(t.hidden)&&Ce(e,j,t.hidden,{once:!0}),Me(e,j))},requestFullscreen:function(){var e=this.element.ownerDocument;if(this.fulled&&!(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)){var t=e.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,i=this.pointers,n=i[Object.keys(i)[0]],a=n.endX-n.startX,o=n.endY-n.startY;switch(this.action){case m:this.move(a,o);break;case v:this.zoom(je(i),!1,e);break;case f:this.action="switched";var s=Math.abs(a);s>1&&s>Math.abs(o)&&(this.pointers={},a>1?this.prev(t.loop):a<-1&&this.next(t.loop));break}me(i,(function(e){e.startX=e.endX,e.startY=e.endY}))},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.left>=0&&e.top>=0&&e.width<=t.width&&e.height<=t.height}},Xe=u.Viewer,Ye=function(){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!i||1!==i.nodeType)throw new Error("The first argument is required and must be an element.");this.element=i,this.options=fe({},r,he(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}return n(e,[{key:"init",value:function(){var e=this,t=this.element,i=this.options;if(!t[p]){t[p]=this;var n="img"===t.tagName.toLowerCase(),a=[];me(n?[t]:t.querySelectorAll("img"),(function(t){pe(i.filter)?i.filter.call(e,t)&&a.push(t):a.push(t)})),this.isImg=n,this.length=a.length,this.images=a;var o=t.ownerDocument,s=o.body||o.documentElement;if(this.body=s,this.scrollbarWidth=window.innerWidth-o.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(s).paddingRight,ce(document.createElement(p).style.transition)&&(i.transition=!1),i.inline){var r=0,l=function(){var t;(r+=1,r===e.length)&&(e.initializing=!1,e.delaying={abort:function(){clearTimeout(t)}},t=setTimeout((function(){e.delaying=!1,e.build()}),0))};this.initializing={abort:function(){me(a,(function(e){e.complete||_e(e,R,l)}))}},me(a,(function(e){e.complete?l():Ce(e,R,l,{once:!0})}))}else Ce(t,z,this.onStart=function(t){var n=t.target;"img"!==n.tagName.toLowerCase()||pe(i.filter)&&!i.filter.call(e,n)||e.view(e.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var e=this.element,t=this.options,i=e.parentNode,n=document.createElement("div");n.innerHTML=l;var a=n.querySelector(".".concat(p,"-container")),o=a.querySelector(".".concat(p,"-title")),s=a.querySelector(".".concat(p,"-toolbar")),r=a.querySelector(".".concat(p,"-navbar")),c=a.querySelector(".".concat(p,"-button")),u=a.querySelector(".".concat(p,"-canvas"));if(this.parent=i,this.viewer=a,this.title=o,this.toolbar=s,this.navbar=r,this.button=c,this.canvas=u,this.footer=a.querySelector(".".concat(p,"-footer")),this.tooltipBox=a.querySelector(".".concat(p,"-tooltip")),this.player=a.querySelector(".".concat(p,"-player")),this.list=a.querySelector(".".concat(p,"-list")),we(o,t.title?Ie(Array.isArray(t.title)?t.title[0]:t.title):S),we(r,t.navbar?Ie(t.navbar):S),xe(c,S,!t.button),t.backdrop&&(we(a,"".concat(p,"-backdrop")),t.inline||"static"===t.backdrop||Oe(u,ne,"hide")),se(t.className)&&t.className&&t.className.split(ae).forEach((function(e){we(a,e)})),t.toolbar){var d=document.createElement("ul"),h=he(t.toolbar),m=oe.slice(0,3),f=oe.slice(7,9),v=oe.slice(9);h||we(s,Ie(t.toolbar)),me(h?t.toolbar:oe,(function(e,i){var n=h&&he(e),a=h?Te(i):e,o=n&&!ce(e.show)?e.show:e;if(o&&(t.zoomable||-1===m.indexOf(a))&&(t.rotatable||-1===f.indexOf(a))&&(t.scalable||-1===v.indexOf(a))){var s=n&&!ce(e.size)?e.size:e,r=n&&!ce(e.click)?e.click:e,l=document.createElement("li");l.setAttribute("role","button"),we(l,"".concat(p,"-").concat(a)),pe(r)||Oe(l,ne,a),le(o)&&we(l,Ie(o)),-1!==["small","large"].indexOf(s)?we(l,"".concat(p,"-").concat(s)):"play"===a&&we(l,"".concat(p,"-large")),pe(r)&&Ce(l,z,r),d.appendChild(l)}})),s.appendChild(d)}else we(s,S);if(!t.rotatable){var y=s.querySelectorAll('li[class*="rotate"]');we(y,_),me(y,(function(e){s.appendChild(e)}))}if(t.inline)we(c,k),ye(a,{zIndex:t.zIndexInline}),"static"===window.getComputedStyle(i).position&&ye(i,{position:"relative"}),i.insertBefore(a,e.nextSibling);else{we(c,g),we(a,w),we(a,b),we(a,S),ye(a,{zIndex:t.zIndex});var x=t.container;se(x)&&(x=e.ownerDocument.querySelector(x)),x||(x=this.body),x.appendChild(a)}t.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,pe(t.ready)&&Ce(e,$,t.ready,{once:!0}),!1!==Me(e,$)?this.ready&&t.inline&&this.view(this.index):this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=Xe,e}},{key:"setDefaults",value:function(e){fe(r,he(e)&&e)}}]),e}();return fe(Ye.prototype,Re,We,Ae,Ve,Ne),Ye}))},c98e:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.draggable?i("a-upload-dragger",{attrs:{name:e.name,directory:e.directory,multiple:e.multiple,accept:e.accept,customRequest:e.handleUpload,remove:e.handleRemove},on:{change:e.handleChange}},[e._t("default",null,{role:"button"}),e._v(" 点击选择文件或将文件拖拽到此处 ")],2):i("a-upload",{attrs:{name:e.name,directory:e.directory,multiple:e.multiple,accept:e.accept,customRequest:e.handleUpload,remove:e.handleRemove},on:{change:e.handleChange}},[e._t("default")],2)],1)},a=[],o=(i("b0c0"),i("cebe")),s=i.n(o),r={name:"Upload",props:{name:{type:String,required:!1,default:"file"},multiple:{type:Boolean,required:!1,default:!1},draggable:{type:Boolean,required:!1,default:!0},accept:{type:String,required:!1,default:""},directory:{type:Boolean,required:!1,default:!0},attachOption:{type:Object,required:!1,default:function(){return{path:"root/"}}},uploadHandler:{type:Function,required:!0}},methods:{handleChange:function(e){this.$emit("change",e)},handleRemove:function(e){this.$emit("remove",e)},handleUpload:function(e){var t=this,i=s.a.CancelToken,n=i.source(),a=new FormData;return a.append(this.name,e.file),a.append("path",this.attachOption.path),this.uploadHandler(a,(function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)}),n.token,e.file).then((function(i){e.onSuccess(i,e.file),t.$emit("success",i,e.file)})).catch((function(i){e.onError(i,i.response),t.$emit("failure",i,e.file)})),{abort:function(){n.cancel("Upload operation canceled by the user.")}}}}},l=r,c=i("2877"),u=Object(c["a"])(l,n,a,!1,null,null,null);t["a"]=u.exports},cec4:function(e,t,i){}}]);